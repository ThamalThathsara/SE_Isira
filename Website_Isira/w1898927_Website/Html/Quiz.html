<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Quiz</title>
	<!--CSS-->
	<link rel="stylesheet" href="../CSS/Quiz.css" type="text/css">
	<link rel="stylesheet" href="../CSS/navigationbarblack.css" type="text/css">
</head>
<body>
	<!--Navigation bar-->
	<div class="navigation bar">
		<a href="Home.html"><img class="logo" src="../Images/logoblack.png" width="110" height="27" alt="logo"></a>
		<ul id="navigation">
			<li class="parts"><a href="buy_products.html">Products</a></li>
			<li class="parts"><a href="gallery.html">Gallery</a></li>
			<li class="parts"><a href="form.html">Query Form</a></li>
			<li class="parts"><a href="svg.html">Sitemap</a></li>
			<li class="parts"><a href="Quiz.html">Quiz</a></li>
			<li class="parts"><a href="StudentDetails.html">About</a></li>
			<li class="parts"><a href="News.html">News</a></li>
		</ul>
	</div>
	<!--First page-->
	<div id="firstpage" class='firstpage-start'>
		<h1> Agriculture Quiz </h1>
		<div class="start-box">
			<!--Rules-->
			<p>Questions : 10</p>
			<p>Time Limit : 1 Minute</p>
		</div>
		<!--Time limit warning-->
		<img class="warning-image" src="../Images/warning.jpg" alt="warning">
		<p><span>Answers will be submitted automatically if the time limit reached.</span></p>
		<button type='button' class='start-button' onclick="displayQuestions()">Start Quiz</button>
		<!--Editor image-->
		<a href="Isira.html"><img src ="../Images/editor.jpg" class="editor-image-1" alt="editor"></a>
	</div>
	<!--Second page-->
	<div id="questionspage" hidden>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 1</p>
			<div class='text'>
				<p class='question'>Which country is the world's largest producer of tea?</p>
				<input type="radio" name="question1" value="1">Sri Lanka<br><br>
				<input type="radio" name="question1" value="2">China<br><br>
				<input type="radio" name="question1" value="3">Kenya<br><br>
				<input type="radio" name="question1" value="4">United States<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 2</p>
			<div class='text'>
				<p class='question'>What location in Sri Lanka is not included in the Coconut Triangle?</p>
				<input type="radio" name="question2" value="1">Kurunegala<br><br>
				<input type="radio" name="question2" value="2">Puttalam<br><br>
				<input type="radio" name="question2" value="3">Kandy<br><br>
				<input type="radio" name="question2" value="4">Colombo<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 3</p>
			<div class='text'>
				<p class='question'>What time period of year does the Yala season occur in Sri Lanka?</p>
				<input type="radio" name="question3" value="1">May - August<br><br>
				<input type="radio" name="question3" value="2">September - March<br><br>
				<input type="radio" name="question3" value="3">January - February<br><br>
				<input type="radio" name="question3" value="4">December - January<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 4</p>
			<div class='text'>
				<p class='question'>What is the main ingredient in rice?</p>
				<input type="radio" name="question4" value="1">Vitamins<br><br>
				<input type="radio" name="question4" value="2">Protein<br><br>
				<input type="radio" name="question4" value="3">Water<br><br>
				<input type="radio" name="question4" value="4">Carbohydrate<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 5</p>
			<div class='text'>
				<p class='question'>What is not needed for Photosynthesis process?</p>
				<input type="radio" name="question5" value="1">Sun Light<br><br>
				<input type="radio" name="question5" value="2">CO<sub>2</sub>(Carbon dioxide)<br><br>
				<input type="radio" name="question5" value="3">Water<br><br>
				<input type="radio" name="question5" value="4">O<sub>2</sub>(Oxygen)<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 6</p>
			<div class='text'>
				<p class='question'>Which country is the world's largest producer of milk?</p>
				<input type="radio" name="question6" value="1">China<br><br>
				<input type="radio" name="question6" value="2">India<br><br>
				<input type="radio" name="question6" value="3">New Zealand<br><br>
				<input type="radio" name="question6" value="4">Australia<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 7</p>
			<div class='text'>
			<p class='question'>Which country is the world's largest producer of rice?</p>
				<input type="radio" name="question7" value="1">India<br><br>
				<input type="radio" name="question7" value="2">Sri Lanka<br><br>
				<input type="radio" name="question7" value="3">China<br><br>
				<input type="radio" name="question7" value="4">Bangaladesh<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 8</p>
			<div class='text'>
				<p class='question'>What is the lifespan of a coconut tree?</p>
				<input type="radio" name="question8" value="1">0-20 years<br><br>
				<input type="radio" name="question8" value="2">20-40 years<br><br>
				<input type="radio" name="question8" value="3">40-60 years<br><br>
				<input type="radio" name="question8" value="4">60-80 years<br><br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 9</p>
			<div class='text'>
				<p class='question'>What fertilizer helps flower blooming?</p>
				<input type="radio" name="question9" value="1">Phosphorus<br><br>
				<input type="radio" name="question9" value="2">Nitrogen<br><br>
				<input type="radio" name="question9" value="3">Zinc<br><br>
				<input type="radio" name="question9" value="4">Potassium<br>
			</div>
		</div>
		<div class='secondpage-question-area'>
			<!--Question-->
			<p class='question-number'>Question 10</p>
			<div class='text'>
				<p class='question'>What percentage of sugar does honey contain?</p>
				<input type="radio" name="question10" value="1">Around 20%<br><br>
				<input type="radio" name="question10" value="2">Around 40%<br><br>
				<input type="radio" name="question10" value="3">Around 60%<br><br>
				<input type="radio" name="question10" value="4">Around 80%<br><br>
			</div>
		</div>
		<!--Back to top Button-->
		<button type="button" class='top-button' onclick="BackToTop()">Back To Top</button>
		<!--Submit button-->
		<button type="button" class='submit-button' onclick="displayResults()">Submit</button>
		<!--Editor image-->
		<a href="Isira.html"><img src ="../Images/editor.jpg" class="editor-image-2" alt="editor"></a>
	</div>
	<!--Third page-->
	<div id="resultspage" class='thirdpage-results-area' hidden>
		<h2 class='results-topic'>Results and Answers</h2>
		<!--Time duration-->
		<p id="timeDue" class="results-time"></p>
		<!--Marks-->
		<div class="marks-box">
			<p class='results-marks'>Your Marks</p>
			<p class='results-marks' id='totalmarks'></p>
		</div>
	<!--Results table-->
		<table>
			<tr>
				<th class="table-th1">Question Number</th>
				<th class="table-th2">Correct Answer</th>
				<th class="table-th3">Correct/Incorrect</th>
			<tr>
				<td class="table-td1">Question 1</td>
				<td class="table-td1">China</td>
				<td class="table-td1" id="answer1"></td>
			<tr>
				<td class="table-td2">Question 2</td>
				<td class="table-td2">Kandy</td>
				<td class="table-td2" id="answer2"></td>
			<tr>
				<td class="table-td1">Question 3</td>
				<td class="table-td1">May - August</td>
				<td class="table-td1" id="answer3"></td>
			<tr>
				<td class="table-td2">Question 4</td>
				<td class="table-td2">Carbohydrate</td>
				<td class="table-td2" id="answer4"></td>
			<tr>
				<td class="table-td1">Question 5</td>
				<td class="table-td1">0<sub>2</sub>(Oxygen)</td>
				<td class="table-td1" id="answer5"></td>
			<tr>
				<td class="table-td2">Question 6</td>
				<td class="table-td2">India</td>
				<td class="table-td2" id="answer6"></td>
			<tr>
				<td class="table-td1">Question 7</td>
				<td class="table-td1">China</td>
				<td class="table-td1" id="answer7"></td>
			<tr>
				<td class="table-td2">Question 8</td>
				<td class="table-td2">60-80 years</td>
				<td class="table-td2" id="answer8"></td>
			<tr>
				<td class="table-td1">Question 9</td>
				<td class="table-td1">Phosphorus</td>
				<td class="table-td1" id="answer9"></td>
			<tr>
				<td class="table-td2">Question 10</td>
				<td class="table-td2">Around 80%</td>
				<td class="table-td2" id="answer10"></td>
		</table>
		<!--Editors image-->
		<a href="Isira.html"><img src ="../Images/editor.jpg" class="editor-image-3" alt="editor"></a>
	</div>
<script>
	//Variables
	var startTime,endTime,Timer;
	//Set timer
	function timer() {
        Timer = setTimeout(displayResults, 60000);
		startTime = new Date();
        }
	//Back to top function
	function BackToTop() {
		document.body.scrollTop = 0;
		document.documentElement.scrollTop = 0; 
		}
	//GetRadioValue
	function getRadioValue(radioArray) {
        var i;
        for(i=0; i<radioArray.length; i++) {
            if(radioArray[i].checked) {
                return radioArray[i].value;
            }
        }
        return -1;
    }
	//Hide first page and show second page
	function displayQuestions() {
		var preQuestions = document.getElementById("firstpage").hidden = true;
		var Questions = document.getElementById("questionspage").hidden = false;
        var Results = document.getElementById("resultspage").hidden = true;
		timer();

	}
	function displayResults() {
		//End timer
		clearTimeout(Timer);
		endTime = new Date();
		//Calculate time
		var timeDuration = endTime - startTime;
		timeDuration /= 1000;
		var FullTime = Math.round(timeDuration);
		//Print time
		document.getElementById("timeDue").innerHTML = "Time : " + FullTime + "s";
		//To keep scrolled on top when showing third page
		document.body.scrollTop = 0;
		document.documentElement.scrollTop = 0;
		//Hide second page and show third page
		var preQuestions = document.getElementById("firstpage").hidden = true;
		var Questions = document.getElementById("questionspage").hidden = true;
        var Results = document.getElementById("resultspage").hidden = false;
		//Get user's answers
		var userAnswers = [];
		for(let j = 0 ; j < 10 ; j++) {
			var ques = "question" + (j+1);
			var Answers = [];
			Answers = document.getElementsByName(ques);
			var userAns = getRadioValue(Answers);
			userAnswers[j] = userAns;
		}
		//Compare user's answers and correct answers
		let marks = 0;
		const realAnswers = [2,3,1,4,4,2,3,4,1,4];
		for(let i = 0; i < userAnswers.length; i++) {
            var tableid = "answer" + (i+1);
            if(userAnswers[i] == realAnswers[i]) {
				marks = marks + 2;
				//Print correct or incorrect
                document.getElementById(tableid).innerHTML = "correct";
				} else {
                marks = marks - 1;
                document.getElementById(tableid).innerHTML = "incorrect";
				}
            }
		//Print marks
		document.getElementById("totalmarks").innerHTML = marks;
		//Change background colour according to marks
        if(marks <= 5) {
             document.body.style.backgroundColor = "#f51b1b";
        } 
		else if(marks > 12){
            document.body.style.backgroundColor = "#0ddb52";
        } 
		else {
			document.body.style.backgroundColor = "#db9704";
		}
    }
</script>
</body>
</html>
